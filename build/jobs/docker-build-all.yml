# DESCRIPTION: 
# Builds and pushes images for all supported FHIR versions

parameters:
- name: tag
  type: string
- name: buildPlatform
  type: string

jobs:
- template: docker-build-push.yml
  parameters: 
    version: "r4"
    tag: ${{parameters.tag}}
    buildPlatform: ${{parameters.buildPlatform}}

- template: docker-build-push.yml
  parameters: 
    version: "r4b"
    tag: ${{parameters.tag}}
    buildPlatform: ${{parameters.buildPlatform}}

- template: docker-build-push.yml
  parameters: 
    version: "stu3"
    tag: ${{parameters.tag}}
    buildPlatform: ${{parameters.buildPlatform}}

- template: docker-build-push.yml
  parameters: 
    version: "r5"
    tag: ${{parameters.tag}}
    buildPlatform: ${{parameters.buildPlatform}}
